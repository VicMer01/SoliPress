@inherits LayoutComponentBase
@inject NavigationManager NavigationManager

<div class="app-container">
    @if (!IsAuthPage())
    {
        <NavMenu />
    }

    <div class="main-content @(IsAuthPage() ? "auth-page" : "")">
        @if (!IsAuthPage())
        {
            <NavBar />
        }
        
        <div class="content-wrapper">
            @Body
        </div>
    </div>
</div>

<div id="blazor-error-ui">
    An unhandled error has occurred.
    <a href="" class="reload">Reload</a>
    <a class="dismiss">🗙</a>
</div>

@code {
   private readonly string[] AuthRoutes =
{
    "account/login",
    "account/register",
    "account/forgotpassword",
    "account/resetpassword"
};

private bool IsAuthPage()
{
    var path = NavigationManager.ToBaseRelativePath(NavigationManager.Uri).ToLower();
    return AuthRoutes.Any(route => path.StartsWith(route));
}


}
